<main
	class="min-h-screen flex md:flex-row justify-center items-center w-full relative"
>
	<div class="w-1/2 min-h-screen bg-black hidden relative lg:block">
		<a
			class="font-bold text-white text-lg absolute top-5 left-5"
			routerLink="/"
		>
			<span class="text-primary">vote</span>voyage
		</a>
	</div>
	<a
		class="absolute top-4 right-4 p-4 hover:bg-slate-300 rounded-xl transition-all"
		routerLink="/auth/login"
		>Log In instead</a
	>
	<div class="w-11/12 lg:w-1/2 flex justify-center items-center">
		<mat-card class="w-11/12 max-w-md" appearance="outlined">
			<mat-card-header>
				<mat-card-title class="font-bold font-primary"
					>Sign Up</mat-card-title
				>
				<mat-card-subtitle class="font-normal font-primary"
					>Create an account</mat-card-subtitle
				>
			</mat-card-header>
			<mat-card-content>
				<mat-stepper
					class="w-full"
					orientation="vertical"
					linear="true"
					#stepper
				>
					<mat-step [stepControl]="nameFormGroup">
						<form
							(ngSubmit)="submitNameForm()"
							[formGroup]="nameFormGroup"
						>
							<ng-template matStepLabel
								>Fill out your name</ng-template
							>

							<mat-form-field class="w-full mt-2">
								<mat-label>First Name</mat-label>
								<input
									required
									type="text"
									aria-label="First Name"
									autocomplete="given-name"
									formControlName="firstName"
									matInput
									placeholder="ex.: Juan"
								/>
							</mat-form-field>

							<mat-form-field class="w-full">
								<mat-label>Last Name</mat-label>
								<input
									required
									aria-label="Last Name"
									autocomplete="family-name"
									type="text"
									formControlName="lastName"
									matInput
									placeholder="ex.: Dela Cruz"
								/>
							</mat-form-field>

							<div>
								<button
									type="submit"
									mat-flat-button
									matStepperNext
								>
									Next
								</button>
							</div>
						</form>
					</mat-step>

					<mat-step [stepControl]="birthdayFormGroup">
						<form
							(ngSubmit)="submitBirthdayForm()"
							[formGroup]="birthdayFormGroup"
						>
							<ng-template matStepLabel
								>Your Birthdate</ng-template
							>

							<mat-form-field class="w-full mt-2">
								<mat-label>Birth Date</mat-label>
								<input
									min="1900-01-01"
									autocomplete="bday"
									required
									matInput
									[min]="minInimumDate"
									[max]="maximumDate"
									[matDatepicker]="picker"
									formControlName="birthday"
								/>
								<mat-hint>YYYY-MM-DD</mat-hint>
								<mat-datepicker-toggle
									matIconSuffix
									[for]="picker"
								></mat-datepicker-toggle>
								<mat-datepicker #picker></mat-datepicker>
							</mat-form-field>

							<div
								class="flex flex-row mt-3 gap-3 justify-start items-center"
							>
								<button
									type="button"
									mat-stroked-button
									matStepperPrevious
								>
									Back
								</button>
								<button
									type="submit"
									mat-flat-button
									matStepperNext
								>
									Next
								</button>
							</div>
						</form>
					</mat-step>

					<mat-step [stepControl]="emailPasswordFormGroup">
						<form
							(ngSubmit)="submitEmailPasswordForm()"
							[formGroup]="emailPasswordFormGroup"
						>
							<ng-template matStepLabel>
								Fill out with your email address and password
							</ng-template>
							<mat-form-field class="w-full mt-2">
								<mat-label>Email</mat-label>
								<input
									required
									autocomplete="email"
									type="email"
									formControlName="email"
									matInput
									placeholder="ex.: someone@example.com"
								/>
							</mat-form-field>
							<mat-form-field class="w-full mt-2">
								<mat-label>Password</mat-label>
								<input
									required
									autocomplete="new-password"
									[type]="showPassword ? 'text' : 'password'"
									formControlName="password"
									matInput
									#passwordField
									min="8"
									minlength="8"
									placeholder="********"
								/>
							</mat-form-field>
							<mat-form-field class="w-full">
								<mat-label>Confirm Password</mat-label>
								<input
									required
									autocomplete="new-password"
									type="password"
									formControlName="confirmPassword"
									matInput
									min="8"
									minlength="8"
									placeholder="********"
								/>
							</mat-form-field>
							<mat-checkbox formControlName="showPassword">
								Show Password
							</mat-checkbox>
							<div
								class="flex flex-row gap-3 justify-start items-center"
							>
								<button
									type="button"
									mat-stroked-button
									matStepperPrevious
								>
									Back
								</button>
								<button
									type="submit"
									mat-flat-button
									matStepperNext
									[disabled]="
										submitting ||
										emailPasswordFormGroup.invalid
									"
								>
									Next
								</button>
							</div>
						</form>
					</mat-step>

					<mat-step>
						<ng-template matStepLabel>Done</ng-template>
						<p>Ensure that all information are correct</p>
						<div>
							<button mat-button matStepperPrevious>Back</button>
							<button
								mat-flat-button
								type="submit"
								[disabled]="
									submitting ||
									!nameFormGroup.valid ||
									!emailPasswordFormGroup.valid ||
									!birthdayFormGroup.valid
								"
								(click)="onSignUpFormSubmit()"
							>
								Sign Up
							</button>
						</div>
					</mat-step>
				</mat-stepper>
			</mat-card-content>
		</mat-card>
	</div>
</main>
